<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Cricket Scoring Web App</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: url('your-outer-background.jpg') no-repeat center center fixed;
      background-size: cover;
      margin: 0;
      padding: 0;
      color: #333;
    }
    .container {
      max-width: 800px;
      margin: 20px auto;
      padding: 20px 30px 30px 30px;
      background: rgba(255, 255, 255, 0.95);
      border-radius: 12px;
      box-shadow: 0 6px 20px rgba(0,0,0,0.12);
      background-image: url('your-logo.png');
      background-repeat: no-repeat;
      background-position: center 20px;
      background-size: 200px auto;
      min-height: 750px;
    }
    h2, h3, h4 {
      text-align: center;
      margin: 10px 0 15px 0;
      font-weight: 600;
      color: #222;
    }
    input {
      padding: 10px 12px;
      width: 48%;
      margin: 5px 1%;
      border: 1.5px solid #ccc;
      border-radius: 10px;
      font-size: 17px;
      transition: border-color 0.3s ease;
    }
    input:focus {
      border-color: #3498db;
      outline: none;
    }
    button {
      padding: 12px 0;
      font-size: 16px;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      margin: 5px 5px;
      transition: background-color 0.3s ease;
      font-weight: 600;
      box-shadow: 0 3px 8px rgba(0,0,0,0.1);
    }
    button:hover {
      filter: brightness(1.1);
    }
    .button-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 12px;
      margin-top: 20px;
    }
    .btn-run {
      background-color: #27ae60;
      color: white;
    }
    .btn-wide {
      background-color: #e67e22;
      color: white;
    }
    .btn-noball {
      background-color: #f39c12;
      color: white;
    }
    .btn-bye {
      background-color: #2980b9;
      color: white;
    }
    .btn-wicket {
      background-color: #c0392b;
      color: white;
    }
    .action-buttons {
      margin-top: 20px;
      text-align: center;
    }
    .action-buttons button {
      width: 140px;
      margin: 8px 10px;
    }
    .btn-undo {
      background-color: #f39c12;
      color: white;
    }
    .btn-clear {
      background-color: #e74c3c;
      color: white;
    }
    .btn-switch {
      background-color: #3498db;
      color: white;
    }
    .btn-reset {
      background-color: #2ecc71;
      color: white;
    }
    ul {
      list-style-type: none;
      padding: 0;
      max-height: 200px;
      overflow-y: auto;
      border: 1.5px solid #ccc;
      border-radius: 10px;
      background: rgba(255,255,255,0.9);
      margin-top: 12px;
      font-size: 15px;
    }
    li {
      padding: 8px 14px;
      border-bottom: 1px solid #ddd;
      font-weight: 500;
      color: #444;
    }
    li:last-child {
      border-bottom: none;
    }
    .teams-summary {
      display: flex;
      justify-content: space-around;
      margin-top: 15px;
      background: #f6f9fc;
      padding: 20px 0;
      border-radius: 12px;
      box-shadow: inset 0 0 10px rgba(0,0,0,0.03);
    }
    .team-summary {
      flex: 1;
      text-align: center;
      padding: 10px 20px;
      border-right: 1.5px solid #d6d6d6;
      font-weight: 600;
      color: #222;
      user-select: none;
    }
    .team-summary:last-child {
      border-right: none;
    }
    .footer {
      text-align: center;
      padding: 15px 0;
      font-size: 0.9em;
      color: #fff;
      background-color: rgba(0,0,0,0.55);
      margin-top: 40px;
      user-select: none;
      border-radius: 0 0 12px 12px;
    }
    @media (max-width: 600px) {
      .button-grid {
        grid-template-columns: repeat(2, 1fr);
      }
      input {
        width: 100%;
        margin: 5px 0;
      }
      .teams-summary {
        flex-direction: column;
        gap: 15px;
      }
      .team-summary {
        border-right: none;
        border-bottom: 1.5px solid #d6d6d6;
        padding: 15px 0;
      }
      .team-summary:last-child {
        border-bottom: none;
      }
      .action-buttons button {
        width: 100%;
        margin: 8px 0;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>Cricket Scoring Web App</h2>
    <div>
      <input id="team0" placeholder="Enter Team A Name" value="Team A" />
      <input id="team1" placeholder="Enter Team B Name" value="Team B" />
    </div>
    <div class="teams-summary">
      <div class="team-summary" id="summary0">
        <h3 id="team0Name">Team A</h3>
        <p>Score: <span id="team0Score">0</span> / <span id="team0Wickets">0</span></p>
        <p>Overs: <span id="team0Overs">0.0</span></p>
      </div>
      <div class="team-summary" id="summary1">
        <h3 id="team1Name">Team B</h3>
        <p>Score: <span id="team1Score">0</span> / <span id="team1Wickets">0</span></p>
        <p>Overs: <span id="team1Overs">0.0</span></p>
      </div>
    </div>
    <hr style="margin: 25px 0" />
    <h3>Current Team: <span id="currentTeamName">Team A</span></h3>
    <p><strong>Score:</strong> <span id="currentScore">0</span> / <span id="currentWickets">0</span></p>
    <p><strong>Overs:</strong> <span id="currentOvers">0.0</span></p>
    <div class="button-grid">
      <button class="btn-run" onclick="recordRun(1)">1 Run</button>
      <button class="btn-run" onclick="recordRun(2)">2 Runs</button>
      <button class="btn-run" onclick="recordRun(4)">4 Runs</button>
      <button class="btn-run" onclick="recordRun(6)">6 Runs</button>
      <button class="btn-wide" onclick="recordRun(0, 'wide')">Wide</button>
      <button class="btn-noball" onclick="recordRun(0, 'noball')">No Ball</button>
      <button class="btn-bye" onclick="recordRun(1, 'bye')">Bye</button>
      <button class="btn-bye" onclick="recordRun(1, 'legbye')">Leg Bye</button>
      <button class="btn-wicket" onclick="recordWicket()">Wicket</button>
    </div>
    <div class="action-buttons">
      <button class="btn-undo" onclick="undoLastBall()">Undo Last Ball</button>
      <button class="btn-clear" onclick="clearInnings()">Clear Innings</button>
      <button class="btn-switch" onclick="switchTeam()">Switch Team</button>
      <button class="btn-reset" onclick="resetMatch()">Reset Match</button>
    </div>

    <h4>Players List (Current Team)</h4>
    <input id="playerName" placeholder="Player Name" />
    <button onclick="addPlayer()" style="padding: 10px 18px; font-weight: 600; border-radius: 8px; margin-left: 10px;">Add Player</button>
    <ul id="playerList"></ul>

    <h4>Ball by Ball (Current Innings)</h4>
    <ul id="ballByBallList"></ul>
  </div>
  <footer class="footer">
    &copy; 2025 Clickcraft Analyst. All rights reserved.
  </footer>

  <script>
    // Your full JS logic here - same as previous with any needed fixes for UI text

    let teams = [
      {
        name: 'Team A',
        players: [],
        score: 0,
        wickets: 0,
        overs: 0,
        ballsInCurrentOver: 0,
        balls: [],
      },
      {
        name: 'Team B',
        players: [],
        score: 0,
        wickets: 0,
        overs: 0,
        ballsInCurrentOver: 0,
        balls: [],
      }
    ];

    let currentTeam = 0;

    document.getElementById('team0').addEventListener('input', e => {
      teams[0].name = e.target.value || 'Team A';
      updateDisplay();
    });

    document.getElementById('team1').addEventListener('input', e => {
      teams[1].name = e.target.value || 'Team B';
      updateDisplay();
    });

    function updateDisplay() {
      for (let i = 0; i <= 1; i++) {
        document.getElementById('team' + i + 'Name').innerText = teams[i].name;
        document.getElementById('team' + i + 'Score').innerText = teams[i].score;
        document.getElementById('team' + i + 'Wickets').innerText = teams[i].wickets;
        document.getElementById('team' + i + 'Overs').innerText = formatOvers(teams[i].overs, teams[i].ballsInCurrentOver);
      }
      document.getElementById('currentTeamName').innerText = teams[currentTeam].name;
      document.getElementById('currentScore').innerText = teams[currentTeam].score;
      document.getElementById('currentWickets').innerText = teams[currentTeam].wickets;
      document.getElementById('currentOvers').innerText = formatOvers(teams[currentTeam].overs, teams[currentTeam].ballsInCurrentOver);

      updatePlayerList();
      updateBallByBallList();
    }

    function formatOvers(overs, balls) {
      return overs + '.' + balls;
    }

    // Adding Players
    function addPlayer() {
      const playerName = document.getElementById('playerName').value.trim();
      if (!playerName) {
        alert('Please enter player name');
        return;
      }
      teams[currentTeam].players.push({
        name: playerName,
        runs: 0,
        balls: 0,
        isOut: false,
      });
      document.getElementById('playerName').value = '';
      updatePlayerList();
    }

    function updatePlayerList() {
      const ul = document.getElementById('playerList');
      ul.innerHTML = '';
      teams[currentTeam].players.forEach((p, idx) => {
        const li = document.createElement('li');
        li.textContent = `${p.name} - Runs: ${p.runs}, Balls: ${p.balls}, ${p.isOut ? 'Out' : 'Not Out'}`;
        ul.appendChild(li);
      });
    }

    // Ball by ball list
    function updateBallByBallList() {
      const ul = document.getElementById('ballByBallList');
      ul.innerHTML = '';
      teams[currentTeam].balls.forEach((ball, idx) => {
        const li = document.createElement('li');
        let desc = `Ball ${idx + 1}: `;
        switch (ball.type) {
          case 'run':
            desc += `${ball.runs} run${ball.runs !== 1 ? 's' : ''}`;
            break;
          case 'wide':
            desc += 'Wide (1 run)';
            break;
          case 'noball':
            desc += 'No Ball';
            if (ball.runs > 0) desc += ` + ${ball.runs} run${ball.runs !== 1 ? 's' : ''}`;
            break;
          case 'bye':
            desc += `${ball.runs} Bye run${ball.runs !== 1 ? 's' : ''}`;
            break;
          case 'legbye':
            desc += `${ball.runs} Leg Bye run${ball.runs !== 1 ? 's' : ''}`;
            break;
          case 'wicket':
            desc += 'Wicket!';
            break;
          default:
            desc += 'Unknown';
        }
        li.textContent = desc;
        ul.appendChild(li);
      });
    }

    // State to track strike players (index in players array)
    let strikerIndex = 0;
    let nonStrikerIndex = 1;

    // Switch striker
    function switchStrike() {
      [strikerIndex, nonStrikerIndex] = [nonStrikerIndex, strikerIndex];
    }

    function recordRun(runs, type = 'run') {
      const team = teams[currentTeam];
      if (team.wickets >= team.players.length - 1 && type !== 'wide' && type !== 'noball' && type !== 'bye' && type !== 'legbye') {
        alert("All players are out! Can't add runs.");
        return;
      }
      // Wide always 1 run extra, no ball 1 run + extras, bye/leg bye runs added but no ball counted
      if (type === 'wide') {
        team.score += 1;
        team.balls.push({ type: 'wide' });
      } else if (type === 'noball') {
        team.score += 1 + runs;
        team.balls.push({ type: 'noball', runs });
      } else if (type === 'bye' || type === 'legbye') {
        team.score += runs;
        team.balls.push({ type, runs });
        team.ballsInCurrentOver += 1;
        if (team.ballsInCurrentOver === 6) {
          team.overs += 1;
          team.ballsInCurrentOver = 0;
          switchStrike();
          promptBowler();
        }
      } else {
        // Normal runs
        team.score += runs;
        team.balls.push({ type: 'run', runs });
        team.ballsInCurrentOver += 1;

        // Add runs and balls to striker player
        if (team.players[strikerIndex]) {
          team.players[strikerIndex].runs += runs;
          team.players[strikerIndex].balls += 1;
        }

        if (team.ballsInCurrentOver === 6) {
          team.overs += 1;
          team.ballsInCurrentOver = 0;
          switchStrike();
          promptBowler();
        } else if (runs % 2 === 1) {
          // Switch strike if runs are odd
          switchStrike();
        }
      }
      updateDisplay();
    }

    function recordWicket() {
      const team = teams[currentTeam];
      if (team.wickets >= team.players.length - 1) {
        alert("All players are already out.");
        return;
      }
      team.wickets += 1;
      team.ballsInCurrentOver += 1;
      team.balls.push({ type: 'wicket' });

      if (team.players[strikerIndex]) {
        team.players[strikerIndex].isOut = true;
      }

      if (team.ballsInCurrentOver === 6) {
        team.overs += 1;
        team.ballsInCurrentOver = 0;
        switchStrike();
        promptBowler();
      }
      updateDisplay();
    }

    function undoLastBall() {
      const team = teams[currentTeam];
      if (team.balls.length === 0) return;

      const lastBall = team.balls.pop();

      // Undo logic depends on type
      switch (lastBall.type) {
        case 'wide':
          team.score -= 1;
          break;
        case 'noball':
          team.score -= (1 + lastBall.runs);
          break;
        case 'bye':
        case 'legbye':
          team.score -= lastBall.runs;
          team.ballsInCurrentOver -= 1;
          if (team.ballsInCurrentOver < 0) {
            team.overs -= 1;
            team.ballsInCurrentOver = 5;
          }
          break;
        case 'run':
          team.score -= lastBall.runs;
          team.ballsInCurrentOver -= 1;
          if (team.ballsInCurrentOver < 0) {
            team.overs -= 1;
            team.ballsInCurrentOver = 5;
          }
          // Undo player runs and balls
          if (team.players[strikerIndex]) {
            team.players[strikerIndex].runs -= lastBall.runs;
            team.players[strikerIndex].balls -= 1;
          }
          break;
        case 'wicket':
          team.wickets -= 1;
          team.ballsInCurrentOver -= 1;
          if (team.ballsInCurrentOver < 0) {
            team.overs -= 1;
            team.ballsInCurrentOver = 5;
          }
          if (team.players[strikerIndex]) {
            team.players[strikerIndex].isOut = false;
          }
          break;
      }

      updateDisplay();
    }

    function clearInnings() {
      teams[currentTeam].score = 0;
      teams[currentTeam].wickets = 0;
      teams[currentTeam].overs = 0;
      teams[currentTeam].ballsInCurrentOver = 0;
      teams[currentTeam].balls = [];
      teams[currentTeam].players.forEach(p => {
        p.runs = 0;
        p.balls = 0;
        p.isOut = false;
      });
      strikerIndex = 0;
      nonStrikerIndex = 1;
      updateDisplay();
    }

    function switchTeam() {
      currentTeam = currentTeam === 0 ? 1 : 0;
      strikerIndex = 0;
      nonStrikerIndex = 1;
      updateDisplay();
    }

    function resetMatch() {
      for (let i = 0; i <= 1; i++) {
        teams[i].score = 0;
        teams[i].wickets = 0;
        teams[i].overs = 0;
        teams[i].ballsInCurrentOver = 0;
        teams[i].balls = [];
        teams[i].players = [];
      }
      currentTeam = 0;
      strikerIndex = 0;
      nonStrikerIndex = 1;
      document.getElementById('team0').value = 'Team A';
      document.getElementById('team1').value = 'Team B';
      updateDisplay();
    }

    function promptBowler() {
      setTimeout(() => {
        const bowler = prompt(`End of over ${teams[currentTeam].overs}. Please enter new bowler name for ${teams[currentTeam].name}:`);
        if (bowler) {
          alert(`Bowler changed to ${bowler}`);
        }
      }, 100);
    }

    // Initial display setup
    updateDisplay();
  </script>
</body>
</html>
