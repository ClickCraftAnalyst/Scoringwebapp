<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cricket Umpiring App</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            min-height: 100vh;
            padding: 20px;
            color: white;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }
        
        .match-setup {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            backdrop-filter: blur(10px);
        }
        
        .teams-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .team-card {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }
        
        .team-card.batting {
            border-color: #4CAF50;
            background: rgba(76, 175, 80, 0.2);
        }
        
        .team-card.bowling {
            border-color: #FF5722;
            background: rgba(255, 87, 34, 0.2);
        }
        
        .score-display {
            font-size: 2.5em;
            font-weight: bold;
            margin: 10px 0;
        }
        
        .current-over {
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
        }
        
        .over-balls {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 10px;
        }
        
        .ball {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 14px;
        }
        
        .ball.runs { background: #4CAF50; }
        .ball.wicket { background: #F44336; }
        .ball.wide { background: #FF9800; }
        .ball.no-ball { background: #9C27B0; }
        .ball.bye { background: #607D8B; }
        .ball.leg-bye { background: #795548; }
        
        .controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .btn {
            padding: 15px 20px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .btn-runs { background: #4CAF50; color: white; }
        .btn-wicket { background: #F44336; color: white; }
        .btn-extras { background: #FF9800; color: white; }
        .btn-action { background: #2196F3; color: white; }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .stat-card {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }
        
        .match-log {
            max-height: 300px;
            overflow-y: auto;
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 10px;
            margin-top: 15px;
        }
        
        .log-entry {
            padding: 8px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 14px;
        }
        
        .hidden { display: none; }
        
        input, select {
            padding: 10px;
            border: none;
            border-radius: 5px;
            margin: 5px;
            background: rgba(255, 255, 255, 0.9);
            color: #333;
        }
        
        .setup-form {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            align-items: center;
        }
        
        @media (max-width: 768px) {
            .teams-container, .setup-form {
                grid-template-columns: 1fr;
            }
            
            .controls {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .score-display {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üèè Cricket Umpiring App</h1>
            <p>Professional Cricket Scoring System</p>
        </div>
        
        <!-- Match Setup -->
        <div id="setup" class="match-setup">
            <h2>Match Setup</h2>
            <div class="setup-form">
                <div>
                    <input type="text" id="team1Name" placeholder="Team 1 Name" value="Team A">
                    <input type="text" id="team2Name" placeholder="Team 2 Name" value="Team B">
                    <input type="number" id="totalOvers" placeholder="Total Overs" value="20" min="1" max="50">
                </div>
                <div>
                    <select id="battingFirst">
                        <option value="team1">Team 1 Batting First</option>
                        <option value="team2">Team 2 Batting First</option>
                    </select>
                    <button class="btn btn-action" onclick="startMatch()">Start Match</button>
                </div>
            </div>
        </div>
        
        <!-- Main Game Interface -->
        <div id="gameInterface" class="hidden">
            <div class="teams-container">
                <!-- Batting Team -->
                <div id="battingTeam" class="team-card batting">
                    <h3 id="battingTeamName">Team A</h3>
                    <div class="score-display">
                        <span id="battingScore">0</span>/<span id="battingWickets">0</span>
                    </div>
                    <div>Overs: <span id="oversCompleted">0</span>.<span id="ballsInOver">0</span></div>
                    <div>Run Rate: <span id="runRate">0.00</span></div>
                    <div>Required RR: <span id="requiredRR">-</span></div>
                </div>
                
                <!-- Bowling Team -->
                <div id="bowlingTeam" class="team-card bowling">
                    <h3 id="bowlingTeamName">Team B</h3>
                    <div>Bowling</div>
                    <div>Overs Left: <span id="oversLeft">20</span></div>
                    <div>Target: <span id="target">-</span></div>
                </div>
            </div>
            
            <!-- Current Over Display -->
            <div class="current-over">
                <h3>Over <span id="currentOver">1</span></h3>
                <div class="over-balls" id="currentOverBalls"></div>
            </div>
            
            <!-- Scoring Controls -->
            <div class="controls">
                <button class="btn btn-runs" onclick="addRuns(0)">0</button>
                <button class="btn btn-runs" onclick="addRuns(1)">1</button>
                <button class="btn btn-runs" onclick="addRuns(2)">2</button>
                <button class="btn btn-runs" onclick="addRuns(3)">3</button>
                <button class="btn btn-runs" onclick="addRuns(4)">4</button>
                <button class="btn btn-runs" onclick="addRuns(6)">6</button>
                <button class="btn btn-wicket" onclick="addWicket()">Wicket</button>
                <button class="btn btn-extras" onclick="addWide()">Wide</button>
                <button class="btn btn-extras" onclick="addNoBall()">No Ball</button>
                <button class="btn btn-extras" onclick="addBye()">Bye</button>
                <button class="btn btn-extras" onclick="addLegBye()">Leg Bye</button>
                <button class="btn btn-action" onclick="undoLastBall()">Undo</button>
            </div>
            
            <!-- Statistics -->
            <div class="stats-grid">
                <div class="stat-card">
                    <h3>Match Progress</h3>
                    <div>Innings: <span id="currentInnings">1</span></div>
                    <div>Balls Bowled: <span id="totalBalls">0</span></div>
                    <div>Total Runs: <span id="totalRuns">0</span></div>
                    <div>Total Wickets: <span id="totalWickets">0</span></div>
                </div>
                
                <div class="stat-card">
                    <h3>Extras</h3>
                    <div>Wides: <span id="wides">0</span></div>
                    <div>No Balls: <span id="noBalls">0</span></div>
                    <div>Byes: <span id="byes">0</span></div>
                    <div>Leg Byes: <span id="legByes">0</span></div>
                </div>
            </div>
            
            <!-- Match Log -->
            <div class="stat-card">
                <h3>Match Log</h3>
                <div class="match-log" id="matchLog"></div>
            </div>
        </div>
    </div>

    <script>
        // Game State
        let gameState = {
            team1: { name: 'Team A', score: 0, wickets: 0, overs: 0, balls: 0 },
            team2: { name: 'Team B', score: 0, wickets: 0, overs: 0, balls: 0 },
            currentInnings: 1,
            battingTeam: 'team1',
            totalOvers: 20,
            currentOver: [],
            matchLog: [],
            extras: { wides: 0, noBalls: 0, byes: 0, legByes: 0 },
            target: null,
            matchEnded: false
        };

        function startMatch() {
            const team1Name = document.getElementById('team1Name').value || 'Team A';
            const team2Name = document.getElementById('team2Name').value || 'Team B';
            const totalOvers = parseInt(document.getElementById('totalOvers').value) || 20;
            const battingFirst = document.getElementById('battingFirst').value;
            
            gameState.team1.name = team1Name;
            gameState.team2.name = team2Name;
            gameState.totalOvers = totalOvers;
            gameState.battingTeam = battingFirst;
            
            document.getElementById('setup').classList.add('hidden');
            document.getElementById('gameInterface').classList.remove('hidden');
            
            updateDisplay();
            addToLog(`Match started: ${totalOvers} overs`);
            addToLog(`${gameState[gameState.battingTeam].name} batting first`);
        }

        function addRuns(runs) {
            if (gameState.matchEnded) return;
            
            const battingTeam = gameState[gameState.battingTeam];
            battingTeam.score += runs;
            
            gameState.currentOver.push({ type: 'runs', value: runs });
            advanceBall();
            
            addToLog(`${runs} run${runs !== 1 ? 's' : ''} scored`);
            updateDisplay();
            checkMatchEnd();
        }

        function addWicket() {
            if (gameState.matchEnded) return;
            
            const battingTeam = gameState[gameState.battingTeam];
            battingTeam.wickets++;
            
            gameState.currentOver.push({ type: 'wicket', value: 'W' });
            advanceBall();
            
            addToLog('Wicket! Batsman out');
            updateDisplay();
            checkMatchEnd();
        }

        function addWide() {
            if (gameState.matchEnded) return;
            
            const battingTeam = gameState[gameState.battingTeam];
            battingTeam.score++;
            gameState.extras.wides++;
            
            gameState.currentOver.push({ type: 'wide', value: 'WD' });
            // Don't advance ball for wides
            
            addToLog('Wide ball - 1 extra run');
            updateDisplay();
        }

        function addNoBall() {
            if (gameState.matchEnded) return;
            
            const battingTeam = gameState[gameState.battingTeam];
            battingTeam.score++;
            gameState.extras.noBalls++;
            
            gameState.currentOver.push({ type: 'no-ball', value: 'NB' });
            // Don't advance ball for no-balls
            
            addToLog('No ball - 1 extra run');
            updateDisplay();
        }

        function addBye() {
            if (gameState.matchEnded) return;
            
            const runs = parseInt(prompt('How many bye runs?') || '1');
            const battingTeam = gameState[gameState.battingTeam];
            battingTeam.score += runs;
            gameState.extras.byes += runs;
            
            gameState.currentOver.push({ type: 'bye', value: `B${runs}` });
            advanceBall();
            
            addToLog(`${runs} bye run${runs !== 1 ? 's' : ''}`);
            updateDisplay();
        }

        function addLegBye() {
            if (gameState.matchEnded) return;
            
            const runs = parseInt(prompt('How many leg bye runs?') || '1');
            const battingTeam = gameState[gameState.battingTeam];
            battingTeam.score += runs;
            gameState.extras.legByes += runs;
            
            gameState.currentOver.push({ type: 'leg-bye', value: `LB${runs}` });
            advanceBall();
            
            addToLog(`${runs} leg bye run${runs !== 1 ? 's' : ''}`);
            updateDisplay();
        }

        function advanceBall() {
            const battingTeam = gameState[gameState.battingTeam];
            battingTeam.balls++;
            
            if (battingTeam.balls === 6) {
                battingTeam.overs++;
                battingTeam.balls = 0;
                gameState.currentOver = [];
                addToLog(`End of over ${battingTeam.overs}`);
                
                if (battingTeam.overs >= gameState.totalOvers) {
                    endInnings();
                }
            }
        }

        function endInnings() {
            if (gameState.currentInnings === 1) {
                gameState.target = gameState[gameState.battingTeam].score + 1;
                gameState.currentInnings = 2;
                gameState.battingTeam = gameState.battingTeam === 'team1' ? 'team2' : 'team1';
                gameState.currentOver = [];
                
                addToLog(`End of first innings. Target: ${gameState.target}`);
                addToLog(`${gameState[gameState.battingTeam].name} needs ${gameState.target} runs`);
            } else {
                endMatch();
            }
        }

        function endMatch() {
            gameState.matchEnded = true;
            const team1Score = gameState.team1.score;
            const team2Score = gameState.team2.score;
            
            let result;
            if (team1Score > team2Score) {
                result = `${gameState.team1.name} wins by ${team1Score - team2Score} runs!`;
            } else if (team2Score > team1Score) {
                const wicketsLeft = 10 - gameState.team2.wickets;
                result = `${gameState.team2.name} wins by ${wicketsLeft} wickets!`;
            } else {
                result = "Match tied!";
            }
            
            addToLog(`MATCH ENDED: ${result}`);
            alert(result);
        }

        function checkMatchEnd() {
            const battingTeam = gameState[gameState.battingTeam];
            
            // Check if all out
            if (battingTeam.wickets >= 10) {
                endInnings();
                return;
            }
            
            // Check if target achieved
            if (gameState.currentInnings === 2 && battingTeam.score >= gameState.target) {
                endMatch();
                return;
            }
        }

        function undoLastBall() {
            if (gameState.currentOver.length === 0) return;
            
            const lastBall = gameState.currentOver.pop();
            const battingTeam = gameState[gameState.battingTeam];
            
            // Reverse the effects
            switch (lastBall.type) {
                case 'runs':
                    battingTeam.score -= lastBall.value;
                    battingTeam.balls--;
                    break;
                case 'wicket':
                    battingTeam.wickets--;
                    battingTeam.balls--;
                    break;
                case 'wide':
                    battingTeam.score--;
                    gameState.extras.wides--;
                    break;
                // Add more cases as needed
            }
            
            if (battingTeam.balls < 0) {
                battingTeam.balls = 5;
                battingTeam.overs--;
            }
            
            addToLog('Last ball undone');
            updateDisplay();
        }

        function updateDisplay() {
            const battingTeam = gameState[gameState.battingTeam];
            const bowlingTeam = gameState[gameState.battingTeam === 'team1' ? 'team2' : 'team1'];
            
            // Update team names and scores
            document.getElementById('battingTeamName').textContent = battingTeam.name;
            document.getElementById('bowlingTeamName').textContent = bowlingTeam.name;
            document.getElementById('battingScore').textContent = battingTeam.score;
            document.getElementById('battingWickets').textContent = battingTeam.wickets;
            
            // Update overs
            document.getElementById('oversCompleted').textContent = battingTeam.overs;
            document.getElementById('ballsInOver').textContent = battingTeam.balls;
            document.getElementById('oversLeft').textContent = gameState.totalOvers - battingTeam.overs;
            document.getElementById('currentOver').textContent = battingTeam.overs + 1;
            
            // Update run rate
            const totalBalls = (battingTeam.overs * 6) + battingTeam.balls;
            const runRate = totalBalls > 0 ? (battingTeam.score / totalBalls * 6).toFixed(2) : '0.00';
            document.getElementById('runRate').textContent = runRate;
            
            // Update required run rate
            if (gameState.target) {
                const runsNeeded = gameState.target - battingTeam.score;
                const ballsLeft = (gameState.totalOvers - battingTeam.overs) * 6 - battingTeam.balls;
                const reqRR = ballsLeft > 0 ? (runsNeeded / ballsLeft * 6).toFixed(2) : '0.00';
                document.getElementById('requiredRR').textContent = reqRR;
                document.getElementById('target').textContent = gameState.target;
            }
            
            // Update statistics
            document.getElementById('currentInnings').textContent = gameState.currentInnings;
            document.getElementById('totalBalls').textContent = totalBalls;
            document.getElementById('totalRuns').textContent = battingTeam.score;
            document.getElementById('totalWickets').textContent = battingTeam.wickets;
            
            // Update extras
            document.getElementById('wides').textContent = gameState.extras.wides;
            document.getElementById('noBalls').textContent = gameState.extras.noBalls;
            document.getElementById('byes').textContent = gameState.extras.byes;
            document.getElementById('legByes').textContent = gameState.extras.legByes;
            
            // Update current over display
            updateCurrentOverDisplay();
        }

        function updateCurrentOverDisplay() {
            const container = document.getElementById('currentOverBalls');
            container.innerHTML = '';
            
            gameState.currentOver.forEach(ball => {
                const ballElement = document.createElement('div');
                ballElement.className = `ball ${ball.type}`;
                ballElement.textContent = ball.value;
                container.appendChild(ballElement);
            });
        }

        function addToLog(message) {
            const timestamp = new Date().toLocaleTimeString();
            gameState.matchLog.push(`${timestamp}: ${message}`);
            
            const logContainer = document.getElementById('matchLog');
            const logEntry = document.createElement('div');
            logEntry.className = 'log-entry';
            logEntry.textContent = `${timestamp}: ${message}`;
            logContainer.appendChild(logEntry);
            logContainer.scrollTop = logContainer.scrollHeight;
        }
    </script>
</body>
</html>